<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Your Reservations</title>
</head>
<body>
<h2>Your Reservations</h2>

<table class="reservation-table">
    <thead>
    <tr>
        <th>Trip Name</th>
        <th>Date</th>
        <th>Time</th>
        <th>Location</th>
        <th>Status</th>
        <th>Booker</th>
        <th>Notes</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="reservation : ${userReservations}">
        <td th:text="${reservation.trip.tripName}"></td>
        <td th:text="${#dates.format(reservation.trip.tripDate, 'dd/MM/yyyy')}"></td>
        <td th:text="${reservation.trip.tripTime}"></td>
        <td th:text="${reservation.trip.tripLocation}"></td>
        <td th:text="${reservation.status}"></td>
        <td th:text="${reservation.trip.booker.firstName + ' ' + reservation.trip.booker.lastName}"></td>

        <!-- Polje Notes s mogućnošću ažuriranja -->
        <td>
            <form th:action="@{/updateReservationNotes}" method="post">
                <input type="hidden" name="reservationId" th:value="${reservation.id}" />
                <input type="text" name="notes" th:value="${reservation.notes}" placeholder="Add notes here..." />
                <button type="submit" class="submit-btn">Update Notes</button>
            </form>
        </td>

        <!-- Brisanje rezervacije -->
        <td>
            <form th:action="@{/deleteReservation}" method="post">
                <input type="hidden" name="reservationId" th:value="${reservation.id}" />
                <button type="submit" class="delete-btn">Delete</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<a th:href="@{/userPage}" class="back-link">Back to User Page</a>

</body>
</html>
